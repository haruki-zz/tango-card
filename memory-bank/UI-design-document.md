# 日语词卡应用 UI 设计文档

## 设计目标
- 强化复习流的专注感，突出当前卡片与评分操作，减少分散注意的噪声。
- 维持日语学习氛围：柔和米色背景、单色描边、温润的标题字体，搭配绿阶活跃度热力图。
- 所有信息在一屏内可见：新增、复习、活跃度、数据导出与 API 设置各自分区，层次清晰。

## 视觉规范
- 色板
  - 主色：琥珀橙 `#C45E1B`（标题、按钮描边、分割线）。
  - 背景：米白 `#F8F4EF`，容器背景 `#FDFBF8`。
  - 文本：深棕 `#5A3415`，次级文案 `#7A5430`，禁用/占位 `#B08A65`。
  - 互动态：填充橙 `#E07E3F`（悬浮）、深橙 `#A94E14`（按下），焦点描边 `#F0A562`。
  - 成功/积极：绿阶用于热力图 `#C9EBA3` → `#5BA23F`。
- 字体
  - 单词卡片：正反面统一使用随包内置的游明朝，单词本身与假名读音加粗（600–700），释义/例句使用常规字重；数字保持等宽以防跳动；回退链为 `Yu Mincho → Noto Serif JP → serif`。
  - 其他日文界面（标题、表单、提示、热力图 tooltip 等）及所有日文数据内容：使用随包内置的教科書体（如「UD デジタル 教科書体」系列），字重 400–500，保证与卡片字体区隔；回退链为 `教科書体 → Noto Sans JP → sans`。
  - 英文文案、技术字段及英文数据内容：使用 Console/等宽字体族与默认等宽回退（不固定具体顺序），与日文字体形成清晰对比。
  - 层级：标题 24px，分区标题 16px，正文/按钮 14px，辅助 12px；行高 1.5。
- 布局与网格
  - 桌面三列：左 24%，中 46%，右 30%；容器圆角 8px，描边 1px，内边距 16px。
  - 基础间距单位 8px，分区上下留白 12–16px，分组间留白 24px。
  - 分割线使用虚线或浅色单线，与图片中的 dashed 风格一致。

## 信息架构与版块
- 顶部工具区：右上角保留「设置」「全屏/收起」「暗/亮切换」图标按钮，16px 图标，描边风格与主色一致。
- 左侧：新增单词
  - 输入区：单行输入占位符「単語を入力…」，右侧或下方「生成」主按钮。
  - 生成结果卡：标题（单词 + 平假名）、释义、例句；卡片内使用游明朝，单词与假名加粗；底部「保存」按钮；支持手工编辑。
  - 提示信息：错误/成功以浅橙背景和描边提示，保持与主色统一。
- 中间：复习卡片
  - 进度条：文案「復習セッション 3 / 10」旁叠加水平进度条（高度 8–10px，圆角 999px），底层浅橙轨道 `#F3DCC8`，填充渐变 `#E07E3F` → `#C45E1B` 按完成度增长，填充端帽圆形；同步显示百分比数字；条宽随容器自适应；左右箭头切换队列（禁用态灰橙）。
  - 卡片：正面仅单词，背面展示读音/释义/例句；卡片内统一使用游明朝，单词与假名加粗（600–700）；单词/假名过长时自动缩小字号以适配容器，不截断；使用 3px 圆角、描边 2px 的立体框线。
  - 评分按钮：0–5 六个按钮（图片示例为 0–4，可补齐 5），等宽排列，默认描边，悬浮填充浅橙，选中填充深橙并内阴影。
- 右侧：学习活跃度 + 数据区
  - 热力图：5 行 × 7 列（支持扩展至 6 周），方块 12px 间距 3px，颜色按新增+session 数等权相加映射；区间为 0、1–3、4–6、7–14、15+ 对应由浅到深的绿色梯度。
  - 当日数据：日期 + 累计 session；今日新增、今日復習 session 数字，采用分栏对齐。
  - 导入/导出：并列按钮，描边风格；点击打开文件选择或路径提示。
  - AI Provider：下拉选择（OpenAI/Gemini/Mock），下方 API Key 输入框；保存按钮描边风格，展示遮蔽的 key。

## 组件行为与交互
- 表单
  - 输入框：获得焦点时高亮描边；占位符使用次级文案色；错误态描边改为深橙并显示 12px 辅助文案。
  - 按钮：默认描边透明背景；悬浮浅橙填充、按下深橙；禁用态描边与文字使用 `#D6B99B`。
- 卡片翻转
  - 动效：Y 轴旋转 180°，200–240ms，使用 ease-in-out；翻转后按钮短暂高亮提示可评分。
  - 键盘：空格或回车翻面，数字 0–5 直接打分；左右方向键切换下一词。
- 热力图
  - hover 显示 tooltip：「YYYY-MM-DD｜新增 X｜復習 Y sessions」；空数据用最浅绿或无填充描边。
  - 点击可过滤当日词条（可选迭代项，默认仅展示 tooltip）。
- 设置与导入导出
  - 下拉菜单选项悬浮橙色底；已保存 key 后显示「已保存」小标签。
  - 导出完成后展示保存路径；导入时显示新增/覆盖/跳过计数。

## 响应式与适配
- ≥1200px：三列并排（左 24% / 中 46% / 右 30%），卡片字号 28–32px。
- 960–1199px：右侧堆叠到中间下方，左右留白减少至 12px。
- 768–959px：改为上下分栏；新增/复习/活跃度顺序排列；评分按钮改为两行排布。
- <768px：容器满宽，标题字号降级；工具栏图标合并为「更多」菜单。

## 无障碍与可读性
- 对比度：文字与背景对比度 ≥ 4.5:1；按钮填充态与文字对比度 ≥ 3:1。
- 键盘可达：Tab 顺序为输入 -> 生成 -> 卡片翻面 -> 评分按钮 -> 导入导出 -> Provider 设置。
- 反馈：操作后 1–2 秒内给出 toast/内联提示（成功/失败）。
- 文本：日文内容保持全宽字符显示，避免断词；数字使用等宽字体防止跳动。

## 动效与微交互
- 全局悬浮：淡入阴影（0 4px 12px #C45E1B22）。
- 分割线绘制：加载时自左向右描边 120ms，呼应示例中的线框风格。
- 进度变化：切换卡片时，中间卡片轻微缩放 0.98→1，帮助聚焦。

## 资源与实现建议
- Tailwind 变量：定义 `--color-primary`, `--color-bg`, `--color-text`, `--color-accent-green-*` 便于主题复用。
- 图标：使用线性风格（Feather/Remix 线框版），统一 16px；热力图与统计使用矢量绘制。
- 背景纹理：可选添加极浅纸纹理（噪点透明 PNG）叠加到 `body`，不影响文本清晰度。

## 质检清单（设计层）
- 文案与数字对齐一致，无突兀换行；占位符、标签统一使用日语。
- 按钮状态完整（默认/hover/active/disabled/loading/成功）。
- 卡片翻转与评分的键盘操作可用，焦点可见。
- 热力图颜色梯度与数据映射一致，无断层；tooltip 内容完整。
- 设置/导入导出表单的错误提示明确（字段缺失、格式错误、权限失败）。
